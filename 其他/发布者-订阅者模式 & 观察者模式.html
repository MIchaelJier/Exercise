<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
 <script>
    //发布者 / 订阅者 模式
    var publisher = {
        publish(pubsub) {
            pubsub.publish()
        }
    };
    var pubsub = {
        subscribes: [],
        publish() {
            this.subscribes.forEach(subscribe =>{
                subscribe.update();
            })
        },
        subscribe(sub) {
            this.subscribes.push(sub)
        }
    };
    var subscribe = {
        update() {
            console.log('update')
        },
        subscribe(pubsub) {
            pubsub.subscribe(this);
        }
    };
    subscribe.subscribe(pubsub);
    publisher.publish(pubsub);

    //观察者模式
    var subject = {
        observers: [],
        notify() {
            this.observers.forEach(observer =>{
                observer.update()
            })
        },
        attach (observer) {
            this.observers.push(observer)
        }
    };
    var observer = {
        update(){
            alert('updated')
        }
    };
    subject.attach(observer);
    subject.notify()
 </script>
</body>
</html>